{"ast":null,"code":"import _classCallCheck from \"/home/gozdecakkal/Desktop/deneme/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/gozdecakkal/Desktop/deneme/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Directive, ElementRef, Input, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DomHandler } from 'primeng/dom';\nimport * as ɵngcc0 from '@angular/core';\n\nvar FocusTrap = /*#__PURE__*/function () {\n  function FocusTrap(el) {\n    _classCallCheck(this, FocusTrap);\n\n    this.el = el;\n  }\n\n  _createClass(FocusTrap, [{\n    key: \"onkeydown\",\n    value: function onkeydown(e) {\n      if (this.pFocusTrapDisabled !== true) {\n        e.preventDefault();\n        var focusableElements = DomHandler.getFocusableElements(this.el.nativeElement);\n\n        if (focusableElements && focusableElements.length > 0) {\n          if (!focusableElements[0].ownerDocument.activeElement) {\n            focusableElements[0].focus();\n          } else {\n            var focusedIndex = focusableElements.indexOf(focusableElements[0].ownerDocument.activeElement);\n\n            if (e.shiftKey) {\n              if (focusedIndex == -1 || focusedIndex === 0) focusableElements[focusableElements.length - 1].focus();else focusableElements[focusedIndex - 1].focus();\n            } else {\n              if (focusedIndex == -1 || focusedIndex === focusableElements.length - 1) focusableElements[0].focus();else focusableElements[focusedIndex + 1].focus();\n            }\n          }\n        }\n      }\n    }\n  }]);\n\n  return FocusTrap;\n}();\n\nFocusTrap.ɵfac = function FocusTrap_Factory(t) {\n  return new (t || FocusTrap)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef));\n};\n\nFocusTrap.ɵdir = ɵngcc0.ɵɵdefineDirective({\n  type: FocusTrap,\n  selectors: [[\"\", \"pFocusTrap\", \"\"]],\n  hostBindings: function FocusTrap_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"keydown.tab\", function FocusTrap_keydown_tab_HostBindingHandler($event) {\n        return ctx.onkeydown($event);\n      })(\"keydown.shift.tab\", function FocusTrap_keydown_shift_tab_HostBindingHandler($event) {\n        return ctx.onkeydown($event);\n      });\n    }\n  },\n  inputs: {\n    pFocusTrapDisabled: \"pFocusTrapDisabled\"\n  }\n});\n\nFocusTrap.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }];\n};\n\nFocusTrap.propDecorators = {\n  pFocusTrapDisabled: [{\n    type: Input\n  }],\n  onkeydown: [{\n    type: HostListener,\n    args: ['keydown.tab', ['$event']]\n  }, {\n    type: HostListener,\n    args: ['keydown.shift.tab', ['$event']]\n  }]\n};\n/*@__PURE__*/\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(FocusTrap, [{\n    type: Directive,\n    args: [{\n      selector: '[pFocusTrap]'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }];\n  }, {\n    onkeydown: [{\n      type: HostListener,\n      args: ['keydown.tab', ['$event']]\n    }, {\n      type: HostListener,\n      args: ['keydown.shift.tab', ['$event']]\n    }],\n    pFocusTrapDisabled: [{\n      type: Input\n    }]\n  });\n})();\n\nvar FocusTrapModule = function FocusTrapModule() {\n  _classCallCheck(this, FocusTrapModule);\n};\n\nFocusTrapModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: FocusTrapModule\n});\nFocusTrapModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function FocusTrapModule_Factory(t) {\n    return new (t || FocusTrapModule)();\n  },\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(FocusTrapModule, {\n    declarations: function declarations() {\n      return [FocusTrap];\n    },\n    imports: function imports() {\n      return [CommonModule];\n    },\n    exports: function exports() {\n      return [FocusTrap];\n    }\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(FocusTrapModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      exports: [FocusTrap],\n      declarations: [FocusTrap]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { FocusTrap, FocusTrapModule };","map":{"version":3,"sources":["../../src/app/components/focustrap/focustrap.ts","../../src/app/components/focustrap/primeng-focustrap.ts"],"names":[],"mappings":";;;;;;;IAOa,S;AAIT,qBAAmB,EAAnB,EAAiC;AAAA;;AAAd,SAAA,EAAA,GAAA,EAAA;AAAkB;;;;WAIrC,mBAAU,CAAV,EAAW;AACP,UAAI,KAAK,kBAAL,KAA4B,IAAhC,EAAsC;AAClC,QAAA,CAAC,CAAC,cAAF;AACA,YAAI,iBAAiB,GAAG,UAAU,CAAC,oBAAX,CAAgC,KAAK,EAAL,CAAQ,aAAxC,CAAxB;;AACA,YAAI,iBAAiB,IAAI,iBAAiB,CAAC,MAAlB,GAA2B,CAApD,EAAuD;AACnD,cAAI,CAAC,iBAAiB,CAAC,CAAD,CAAjB,CAAqB,aAArB,CAAmC,aAAxC,EAAuD;AACnD,YAAA,iBAAiB,CAAC,CAAD,CAAjB,CAAqB,KAArB;AACH,WAFD,MAGK;AACD,gBAAI,YAAY,GAAG,iBAAiB,CAAC,OAAlB,CAA0B,iBAAiB,CAAC,CAAD,CAAjB,CAAqB,aAArB,CAAmC,aAA7D,CAAnB;;AAEA,gBAAI,CAAC,CAAC,QAAN,EAAgB;AACZ,kBAAI,YAAY,IAAI,CAAC,CAAjB,IAAsB,YAAY,KAAK,CAA3C,EACI,iBAAiB,CAAC,iBAAiB,CAAC,MAAlB,GAA2B,CAA5B,CAAjB,CAAgD,KAAhD,GADJ,KAGI,iBAAiB,CAAC,YAAY,GAAG,CAAhB,CAAjB,CAAoC,KAApC;AACP,aALD,MAMK;AACD,kBAAI,YAAY,IAAI,CAAC,CAAjB,IAAsB,YAAY,KAAM,iBAAiB,CAAC,MAAlB,GAA2B,CAAvE,EACI,iBAAiB,CAAC,CAAD,CAAjB,CAAqB,KAArB,GADJ,KAGI,iBAAiB,CAAC,YAAY,GAAG,CAAhB,CAAjB,CAAoC,KAApC;AACP;AACJ;AACJ;AACJ;AACJ;;;;;;0BArCJ,iB,CAAA,C,EAAS;AAAA,SAAC,KAAA,CAAA,IAAA,SAAA,EACP,MAAU,CAAA,iBAAV,CAAwB,MAAA,CAAA,UAAxB,CADO,CAAD;AAET,C;;;;;;;;;;;;;;;wBACI;;;;AAAC,SAAA,CAAA,cAAA,GAAA;AAAA,SAAA,CAES;AAAA,IAAA,IAAA,EATY;AASZ,GAFT,CAAA;AAAA,CAAA;;AAPqC,SAAA,CAAA,cAAA,GAAA;AAA6B,EAAA,kBAAA,EAAA,CAAA;AAAA,IAAA,IAAA,EASnE;AATmE,GAAA,CAA7B;AAS5B,EAAA,SAAA,EAAA,CAAA;AAAA,IAAA,IAAA,EAIV,YAJU;AAIE,IAAA,IAAA,EAAA,CAAC,aAAD,EAAgB,CAAC,QAAD,CAAhB;AAJF,GAAA,EAI4B;AAAA,IAAA,IAAA,EACtC,YADsC;AAC1B,IAAA,IAAA,EAAA,CAAC,mBAAD,EAAsB,CAAC,QAAD,CAAtB;AAD0B,GAJ5B;AAT4B,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;AAerC,C;;IAkCO,e;;;;8BALZ,gB,CAAA;AAAA,EAAA,IAAQ,EAAA;AAAR,C;AACG,eAAU,CAAA,IAAV,GAAU,MAAa,CAAA,gBAAb,CACV;AAAA,EAAA,OAAU,EAAA,SAAU,uBAAV,CACV,CADU,EACE;AAAE,WAAC,KAAU,CAAA,IAAA,eAAV,GAAD;AACjB,GAFG;AAEH,EAAA,OAAA,EAAA,CAAA,CAAA,YAAA,CAAA;AAFG,CADU,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIC,C;ACjDL;AACA;AACA;;;AAEA,SAAA,SAAA,EAAA,eAAA","sourcesContent":["import {NgModule,Directive,ElementRef,HostListener, Input} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {DomHandler} from 'primeng/dom';\n\n@Directive({\n    selector: '[pFocusTrap]',\n})\nexport class FocusTrap {\n\n    @Input() pFocusTrapDisabled: boolean;\n\n    constructor(public el: ElementRef) {}\n\n    @HostListener('keydown.tab', ['$event'])\n    @HostListener('keydown.shift.tab', ['$event'])\n    onkeydown(e) {\n        if (this.pFocusTrapDisabled !== true) {\n            e.preventDefault();\n            let focusableElements = DomHandler.getFocusableElements(this.el.nativeElement);\n            if (focusableElements && focusableElements.length > 0) {\n                if (!focusableElements[0].ownerDocument.activeElement) {\n                    focusableElements[0].focus();\n                }\n                else {\n                    let focusedIndex = focusableElements.indexOf(focusableElements[0].ownerDocument.activeElement);\n\n                    if (e.shiftKey) {\n                        if (focusedIndex == -1 || focusedIndex === 0)\n                            focusableElements[focusableElements.length - 1].focus();\n                        else\n                            focusableElements[focusedIndex - 1].focus();\n                    }\n                    else {\n                        if (focusedIndex == -1 || focusedIndex === (focusableElements.length - 1))\n                            focusableElements[0].focus();\n                        else\n                            focusableElements[focusedIndex + 1].focus();\n                    }\n                }\n            }\n        }\n    }\n}\n\n@NgModule({\n    imports: [CommonModule],\n    exports: [FocusTrap],\n    declarations: [FocusTrap]\n})\nexport class FocusTrapModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]},"metadata":{},"sourceType":"module"}